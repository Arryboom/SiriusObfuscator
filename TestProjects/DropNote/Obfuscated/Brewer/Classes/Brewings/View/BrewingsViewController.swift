//
// Created by Maciej Oczko on 20.01.2016.
// Copyright (c) 2016 Maciej Oczko. All rights reserved.
//

import Foundation
import UIKit
import Swinject
import DZNEmptyDataSet
import RxSwift

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: MwFLWZjR5G3DuYWPa3I4wGndBvUBbip8 { }
extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: Q3c1Yv0NMG53YSzxbfYtUko_jFRWEYtg { }
extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: HSFELwdXllJy_qRSQHcF2C2z5JoyqC0X { }

final class efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: UIViewController {
    @IBOutlet weak var RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV: UITableView!
    @IBOutlet weak var XikuQTmwILiIR7PvDkglbODS3DDWrB0H: UIBarButtonItem!

    fileprivate var kp3VhRpW1qsO10Nik_zclx7caZtkdhdA: UISearchBar!
    var RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm: uxojwo8aosue9wOkkgXXYi7IMaiKR2jw?
    var x4lIsVujVz6by449wXl0VpmR04T6jHiY: Resolver?
    var rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb: HOhbnEb1xahzLcu7ELHoGBhoOhWdN6bM!

    required init?(coder zuLr965bjG3TKMmbiMPfjlUiKHnUCGM1: NSCoder) {
        super.init(coder: zuLr965bjG3TKMmbiMPfjlUiKHnUCGM1)
        title = Kkl9ZTHpGF5FUBju4Jnf6OcJ4oZUcQDv(.historyItemTitle)
    }

    override func viewDidLoad() {
        super.viewDidLoad()
        mM1hLSts8AMGTpIyOs2I4V0v06Nc9hy_(RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm)
        nJErNjF8SAWBFLcFQVBytPvkf1XSBvj4()
        d1p198HDejsjJVHICqaW9al5Ez2ctI0u()
        rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.gwTV0VhuSezxUv2O76TjK169SGXRWAcD(RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV)

        if (traitCollection.forceTouchCapability == .available) {
            registerForPreviewing(with: self, sourceView: view)
        }
    }

    override func viewWillAppear(_ n2_iyKbiwlsK6wMxbMgnDNKgYTxt_HTZ: Bool) {
        super.viewWillAppear(n2_iyKbiwlsK6wMxbMgnDNKgYTxt_HTZ)
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.mM1hLSts8AMGTpIyOs2I4V0v06Nc9hy_(RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm)
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.mM1hLSts8AMGTpIyOs2I4V0v06Nc9hy_(RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm)
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.pkMqfhs14ZykvoaSAmFqozI2WkSrDmJe()
        XikuQTmwILiIR7PvDkglbODS3DDWrB0H.title = nil
        XikuQTmwILiIR7PvDkglbODS3DDWrB0H.image = rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.i_Zbb1GSEKuDq4MfovYOnLpgbumJrT7i.DiLICwQpRlxkW0RYaBrOoK3OiApF0nt2

        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.setNeedsLayout()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.layoutIfNeeded()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.reloadData()

        vCkQt8PVcgn_Z0bR0jzr5oqpG1_IaB0t.ey0lB4iJ1VQTsKgM2Kpdd4RYkcFmAaly.Nh2itACzykkA2rC8g655341QOwNhZDPb(TTFGIckdCM6WUr4K4AL4kWbZ4QM0E0zz: saz0MeJCmPLhsdq3XNfrmnmvUuRCSE94.rEtgCIez8P5OzsgYrSRNqtHZXcIdSekd)
    }

    override func viewWillLayoutSubviews() {
        super.viewWillLayoutSubviews()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.pkMqfhs14ZykvoaSAmFqozI2WkSrDmJe()
    }

    override func restoreUserActivityState(_ JucGvmIefGxaYVKvT6XNrwsWkeEpKjR1: NSUserActivity) {
		guard let brew = rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.TiKEzbdBfDTo4vyfGTIG4H9OAZj3hO_g(DmZW6mtiLoff6NBGT3w7EbcsAFKrLPO2: JucGvmIefGxaYVKvT6XNrwsWkeEpKjR1) else { return }
		xMMeAVhFMYT18OJmPDzdRDiKszpHyo0e(.BrewDetails, li5bPIJzo8le5JU31fBEZi_FoclyLMDz: brew)
    }

    override func prepare(for r1aTXf71xVTxM9ddTRi6OfcbLZ8FtlZj: UIStoryboardSegue, sender: Any?) {
        if case .BrewDetails = Y1uYo3WIhilWLaA6lhh6l5FN2guFRmlc(r1aTXf71xVTxM9ddTRi6OfcbLZ8FtlZj), let brew = sender as? Brew {
            guard let resolver = x4lIsVujVz6by449wXl0VpmR04T6jHiY else { return }
            guard let brewDetailsViewController = r1aTXf71xVTxM9ddTRi6OfcbLZ8FtlZj.destination as? Egh4YtSJSUfKhHu18sFZsxLTgAgiY1oL else { return }
            brewDetailsViewController.meehyGyvcw0uxgxawMkox5ZAdbqQ1z4A = resolver.resolve(C_hvAStNMLfGnPEjZ6s9olwXlatGjBvK.self, argument: brew)
            brewDetailsViewController.meehyGyvcw0uxgxawMkox5ZAdbqQ1z4A.aMrXQtoHF7jh5NmXhl_NWN8evMeQSpOQ = true
        }
        if case .BrewingsSorting = Y1uYo3WIhilWLaA6lhh6l5FN2guFRmlc(r1aTXf71xVTxM9ddTRi6OfcbLZ8FtlZj) {
            guard let navigationController = r1aTXf71xVTxM9ddTRi6OfcbLZ8FtlZj.destination as? UINavigationController else { return }
            guard let brewingsSortingViewController = navigationController.topViewController as? NagAinkACkE2ZrabukOfzv5dRIrNnKaG else { return }
            brewingsSortingViewController.FrQcGqiAq8MyWc70IeOR2c6LQdNdCOhf.i_Zbb1GSEKuDq4MfovYOnLpgbumJrT7i = rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.i_Zbb1GSEKuDq4MfovYOnLpgbumJrT7i

            _ = brewingsSortingViewController.qogR2A4zCfAJWy1w1nY41X8tvENhMAkz.subscribe(onNext: {
                animated in
                self.dismiss(animated: animated, completion: nil)
            })
            _ = brewingsSortingViewController.M0Kj3gwna6YABne_2V2eYrXIj1EhUXc0.subscribe(onNext: {
                sortingOption in
                self.rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.i_Zbb1GSEKuDq4MfovYOnLpgbumJrT7i = sortingOption
                self.RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.reloadData()
            })
        }
    }

    private func nJErNjF8SAWBFLcFQVBytPvkf1XSBvj4() {
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA = UISearchBar(frame: CGRect(origin: CGPoint.zero, size: CGSize(width: view.frame.width, height: 44)))
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.placeholder = Kkl9ZTHpGF5FUBju4Jnf6OcJ4oZUcQDv(.historyFilterPlaceholder)
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.showsCancelButton = true
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.returnKeyType = .done
        kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.delegate = self
    }

    private func d1p198HDejsjJVHICqaW9al5Ez2ctI0u() {
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.tableFooterView = UIView()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.delegate = self
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.backgroundView = UIView()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.rowHeight = UITableViewAutomaticDimension
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.estimatedRowHeight = 80
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.tableHeaderView = kp3VhRpW1qsO10Nik_zclx7caZtkdhdA
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.emptyDataSetDelegate = self
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.emptyDataSetSource = self
    }
}

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: wL8OLrup1pw8GLYJMMAaPZv3uup_FPkv {

    func CRladT5kjUoRJ258xwQDz326EST2v3wR() {
        tabBarItem = UITabBarItem(title: Kkl9ZTHpGF5FUBju4Jnf6OcJ4oZUcQDv(.historyItemTitle),
                                  image: UIImage(s1ZNd5QU2H_UUnNcHh0fKsU72v0RAfQH: .Ic_tab_history)?.YFDX0emTPRUFA1PMfpdFLtlEg4NDHuAP(),
                                  selectedImage: UIImage(s1ZNd5QU2H_UUnNcHh0fKsU72v0RAfQH: .Ic_tab_history_pressed)?.YFDX0emTPRUFA1PMfpdFLtlEg4NDHuAP())
    }
}

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: UITableViewDelegate {

    func tableView(_ i70qu6n5ME0R_KB_fVpKHn1Zsb6PGCo2: UITableView, didHighlightRowAt h8FQDldd0Zrb8iD4W3DhnjIbt1Z50Zmb: IndexPath) {
        i70qu6n5ME0R_KB_fVpKHn1Zsb6PGCo2.cellForRow(at: h8FQDldd0Zrb8iD4W3DhnjIbt1Z50Zmb)?.isHighlighted = true
    }

    func tableView(_ FmRJB7SJtRr5Wx18BYGaNZAZji8jELgE: UITableView, didUnhighlightRowAt GtqQ4Yy6BsG_MoIL2OMyJD_Mr6pwva5S: IndexPath) {
        FmRJB7SJtRr5Wx18BYGaNZAZji8jELgE.cellForRow(at: GtqQ4Yy6BsG_MoIL2OMyJD_Mr6pwva5S)?.isHighlighted = false
    }

    func tableView(_ r8onB5JwrkXxvV2130xnnrx6VYb7WrVk: UITableView, willDisplay OHjOAIpjDrMyg0LGsVXDiaPQ6LWPrnya: UITableViewCell, forRowAt sr9Xn2C8ZyBtThbjJ5eGvr7vpp44scyp: IndexPath) {
        OHjOAIpjDrMyg0LGsVXDiaPQ6LWPrnya.accessibilityLabel = "Select \((sr9Xn2C8ZyBtThbjJ5eGvr7vpp44scyp as NSIndexPath).row + 1)"
        (OHjOAIpjDrMyg0LGsVXDiaPQ6LWPrnya as? FlQFqtnXgfcu_QeHbsERDX6vFWG34A2V)?.LE6VFvQNuHg3d6_sGlgqXuOA5C43bxrJ(RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm)
    }

    func tableView(_ Qn2N5sxQd9X_8VWUuOiEmRYEUwKIMD8R: UITableView, didSelectRowAt MWTuYontXtBD6B0iQagftCqS7Qs07HZD: IndexPath) {
        xMMeAVhFMYT18OJmPDzdRDiKszpHyo0e(.BrewDetails, li5bPIJzo8le5JU31fBEZi_FoclyLMDz: rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.f_uIlL984FPbEs0x6BqBLisqxl_Yv3f_(v519ZfdSUpfoFkiyhMYMEqMw728X9n7a: MWTuYontXtBD6B0iQagftCqS7Qs07HZD))
    }

    func scrollViewWillEndDragging(_ BxsWQrGrSla4oDK9v5IVKoukAWLPqEV7: UIScrollView, withVelocity gF9CfviRihMtETorJz45pBPpZcEwq8wg: CGPoint, targetContentOffset: UnsafeMutablePointer<CGPoint>) {
        if targetContentOffset.pointee.y == 0 && BxsWQrGrSla4oDK9v5IVKoukAWLPqEV7.contentOffset.y > kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.frame.size.height {
            targetContentOffset.pointee.y = kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.frame.size.height
        }
    }
}

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: UISearchBarDelegate {

    func searchBar(_ gP5DbPDYQXqbmWCZuCYBkYyj58smsDHi: UISearchBar, textDidChange GcXczenuK37jHeTIxRH5uyJtqwHZ8XzN: String) {
        rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.knOGbHKBY7Vwn3_Jx93IZYWE7sdweGH1(GcXczenuK37jHeTIxRH5uyJtqwHZ8XzN)
    }

    func searchBarSearchButtonClicked(_ yR8CUVqa6ubOUkJzmft_Bp5ow4DF7Av8: UISearchBar) {
        yR8CUVqa6ubOUkJzmft_Bp5ow4DF7Av8.resignFirstResponder()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.pkMqfhs14ZykvoaSAmFqozI2WkSrDmJe(KAH9Mlld7G5agOfHakNQDOZE6xn5irso: true)
    }

    func searchBarCancelButtonClicked(_ hWta_A1wDz8yUjNJEIvDR_epP1TRSi2b: UISearchBar) {
        rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.WDFUtSSuzmY8HAEpmb_SOdvrFjPjy8cW()
        hWta_A1wDz8yUjNJEIvDR_epP1TRSi2b.text = nil
        hWta_A1wDz8yUjNJEIvDR_epP1TRSi2b.resignFirstResponder()
        RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.pkMqfhs14ZykvoaSAmFqozI2WkSrDmJe(KAH9Mlld7G5agOfHakNQDOZE6xn5irso: true)
    }
}

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: DZNEmptyDataSetDelegate, DZNEmptyDataSetSource {

    func description(forEmptyDataSet fBv1hyPhr6_MRkiqU2OKHAyjcsCmGwpc: UIScrollView!) -> NSAttributedString! {
        let attributes = [
            NSAttributedStringKey.font: RXX5Q_QAsdJLlQ3LK59w6tnRhTQryjNm?.CyCtlN5rxGE75oZkXH7RMLdXhoGpolyQ(17) ?? UIFont.systemFont(ofSize: 17)
        ]
        return NSAttributedString(string: Kkl9ZTHpGF5FUBju4Jnf6OcJ4oZUcQDv(.historyEmptySetDescription), attributes: attributes)
    }

    func emptyDataSetShouldDisplay(_ HqXKPEOqBGVYRsUUOH2omIHiUUL6zDui: UIScrollView!) -> Bool {
        return kp3VhRpW1qsO10Nik_zclx7caZtkdhdA.text?.isEmpty ?? true
    }

    func image(forEmptyDataSet wDih45Y4Me2BxYc1M4sivFSmzllnllCg: UIScrollView!) -> UIImage! {
        return UIImage(s1ZNd5QU2H_UUnNcHh0fKsU72v0RAfQH: .Ic_empty_history)
    }

    func spaceHeight(forEmptyDataSet D2wXnz_1sy7Z0Ph7Sfog8qZtegFEurEQ: UIScrollView!) -> CGFloat {
        return 60
    }
}

extension efyhSLwe4QpLjRAGdRPwwm2RGWheMQOA: UIViewControllerPreviewingDelegate {

    func previewingContext(_ Lo5rUzduqouP7yNL6gRrk0XqBIsTG9zG: UIViewControllerPreviewing, viewControllerForLocation rxQ8lxIgzVVRLAplgfLSw4Fxt7T2dq6a: CGPoint) -> UIViewController? {
        guard let resolver = x4lIsVujVz6by449wXl0VpmR04T6jHiY else { return nil }
        let locationInTableView = RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.convert(rxQ8lxIgzVVRLAplgfLSw4Fxt7T2dq6a, from: view)
        guard let indexPath = RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.indexPathForRow(at: locationInTableView) else { return nil }
        guard let cell = RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.cellForRow(at: indexPath) else { return nil }

        let storyboard = UIStoryboard(name: tZwRHBvwk1YFMRym697cJcxGzV1m4DvV.BrewDetails.rawValue, bundle: nil)
        let brewDetailsViewController = storyboard.instantiateInitialViewController() as! Egh4YtSJSUfKhHu18sFZsxLTgAgiY1oL

        let brew = rnRWB6dpc9BG0jsdTQZrzGyQ9LEvHtxb.f_uIlL984FPbEs0x6BqBLisqxl_Yv3f_(v519ZfdSUpfoFkiyhMYMEqMw728X9n7a: indexPath)
        brewDetailsViewController.meehyGyvcw0uxgxawMkox5ZAdbqQ1z4A = resolver.resolve(C_hvAStNMLfGnPEjZ6s9olwXlatGjBvK.self, argument: brew)
        brewDetailsViewController.meehyGyvcw0uxgxawMkox5ZAdbqQ1z4A.aMrXQtoHF7jh5NmXhl_NWN8evMeQSpOQ = true

        Lo5rUzduqouP7yNL6gRrk0XqBIsTG9zG.sourceRect = RJ3QnM97tXRIHzoCFIQIbYHErQeQ_DmV.convert(cell.frame, to: view)

        return brewDetailsViewController
    }

    func previewingContext(_ DGgEKmgwoVoc6JoyGrjGZFpFr5EbN4qb: UIViewControllerPreviewing, commit fclq4LVbT_AvVGvrZNx2QF55ajfonWbM: UIViewController) {
        show(fclq4LVbT_AvVGvrZNx2QF55ajfonWbM, sender: self)
    }
}
